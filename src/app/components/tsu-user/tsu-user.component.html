<section id="request" class="container">					
	<div class="jumbotron tsu-box">				
		<a (click)="showQR()"><div id="qrcode" style="width:60px; height:60px; float: left; padding: 5px; margin: auto; background-color: rgb(255, 255, 255)"></div></a>
		<button class="btn btn-danger" id="user" style="float: right;" (click)="logout()" (mouseout)="buttonLogged=getUser()" (mouseover)="buttonLogged='logout'">{{buttonLogged}}</button>
		<h3 style="text-align: center">T.S.U. Ciudadano</h3>		
		<div class="input-group" style="font-size: 18;margin-top: 40px">
			<input id="ciudadano" name="ciudadano" type="text" class="form-control search-box " [ngClass]="found?'found':''"    placeholder="Ciudadano"  [(ngModel)]="ciudadano" (blur)="makeCode()" (keydown)="keydown($event)">
			<div class="input-group-btn">
				<button class="btn btn-default btn-search" (click)="getBenefits()"><i class="fa fa-search"></i>search</button>
			</div>
		</div>
		<p>
		<ul class="list-group">					
			<li *ngIf="isAdmin() || benefits.largeFamily" [ngClass]="benefits.largeFamily?'active':''" class="list-group-item" id="largeFamily" (click)="isAdmin() && benefits.largeFamily=!benefits.largeFamily;makeCode()" >Familia Numerosa</li>
			<li *ngIf="isAdmin() || benefits.handicap" [ngClass]="benefits.handicap?'active':''" class="list-group-item" id="handicap" (click)="isAdmin() && benefits.handicap=!benefits.handicap;makeCode()" >Minusval√≠a</li>
			<li *ngIf="isAdmin() || benefits.retired" [ngClass]="benefits.retired?'active':''" class="list-group-item" id="retired" (click)="isAdmin() && benefits.retired=!benefits.retired;makeCode()" >Jubilado</li>
			<li *ngIf="isAdmin() || benefits.unemployed" [ngClass]="benefits.unemployed?'active':''" class="list-group-item" id="unemployed" (click)="isAdmin() && benefits.unemployed=!benefits.unemployed;makeCode()" >Desempleado</li>
			<li *ngIf="isAdmin() || benefits.student" [ngClass]="benefits.student?'active':''" class="list-group-item" id="student" (click)="isAdmin() && benefits.student=!benefits.student;makeCode()" >Estudiante</li>					
		</ul>
		<div *ngIf="isAdmin()" class="row" style="margin-top: 10px">
			<div style="margin: auto">
				<button *ngIf="!found" type="button" class="btn btn-lg btn-success" style="margin: 2px" (click)="addUser()" >Alta Ciudadano</button>
				<button *ngIf="found" type="button" class="btn btn-lg btn-primary" style="margin: 2px" (click)="updateTsu()" >Actualizar Beneficios</button>
			</div>
		</div>
	</div>			
</section>	

<ng-template #modalError let-modal>
	<div class="modal-header" style="background-color: red; color:white">
		<h5 class="modal-title" id="modal-basic-title" >{{modalTittle}}</h5>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
		<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<h6>{{modalMessage}}</h6>
	</div>	
</ng-template>

<ng-template #modalOK let-modal>
	<div class="modal-header" style="background-color: rgb(59, 155, 40); color:white">
		<h5 class="modal-title" id="modal-basic-title" >{{modalTittle}}</h5>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
		<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<h6>{{modalMessage}}</h6>
	</div>	
</ng-template>

<footer class="footer">
	<div class="container">
		<p class="text-muted">Fujitsu DBS.</p>
	</div>
</footer>


